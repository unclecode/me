<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>~/blog | unclecode</title>
    <meta name="description"
        content="Technical blog by Unclecode (Hossein) featuring AI, programming, and tech insights.">

    <!-- Fonts and Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/common.css">
    <link rel="stylesheet" href="../assets/css/terminal-core.css">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/blog.css">
    <script>
        // Handle paths for both local development and GitHub Pages
        (function() {
            // Check if we're on GitHub Pages (domain contains github.io)
            const isGitHubPages = window.location.hostname.includes('github.io');
            
            if (isGitHubPages) {
                // Get the repository name from the path
                const pathParts = window.location.pathname.split('/');
                const repoName = pathParts[1]; // The repository name is the first part of the path
                
                // Update all relative CSS paths - fix double "me" issue
                document.querySelectorAll('link[rel="stylesheet"]').forEach(link => {
                    // Check if the href includes '/assets/' but doesn't already have the correct path
                    if (link.href.startsWith(window.location.origin) && 
                        link.href.includes('/assets/') && 
                        !link.href.includes(`/${repoName}/assets/`)) {
                        
                        // Replace any incorrect paths with the correct one
                        // First, standardize by removing any potential duplicated repo names
                        let fixedHref = link.href.replace(new RegExp(`/${repoName}/${repoName}/`, 'g'), `/${repoName}/`);
                        
                        // Then ensure it has the correct path structure
                        if (fixedHref.includes('/assets/')) {
                            const pathPattern = /\/assets\//;
                            fixedHref = fixedHref.replace(pathPattern, `/${repoName}/assets/`);
                        }
                        
                        console.log(`Fixing path: ${link.href} -> ${fixedHref}`);
                        link.href = fixedHref;
                    }
                });
            }
        })();
    </script>
</head>

<body>
    <!-- Header will be loaded dynamically -->
    <div data-component="header"></div>

    <div class="terminal-container">
        <div class="terminal-header">
            <div class="terminal-title">
                <i class="fas fa-terminal"></i> unclecode@blog: ~/posts
            </div>
            <div class="terminal-buttons">
                <div class="terminal-button terminal-minimize"></div>
                <div class="terminal-button terminal-maximize"></div>
                <div class="terminal-button terminal-close"></div>
            </div>
        </div>
        <div class="terminal-body">
            <div class="terminal-welcome">
                <div data-component="ascii-logo"></div>
                <p>Welcome to my technical blog featuring thoughts, tutorials, and insights.</p>
                <p>Type 'help' for more information or 'search' to find specific topics.</p>
            </div>

            <div class="terminal-command">
                <span class="terminal-prompt">$</span>
                <div class="terminal-input-wrapper">
                    <input type="text" class="terminal-input" id="search-input" placeholder="Search for posts...">
                </div>
            </div>

            <div class="terminal-filters" id="filter-chips-container"></div>

            <div id="terminal-output-container">
                <!-- Terminal output will be updated dynamically -->
            </div>


            <ol class="posts-list" id="posts-container">
                <!-- Posts will be loaded dynamically -->
            </ol>

            <div class="pagination">
                <a class="pagination-item active">1</a>
                <a class="pagination-item">2</a>
                <a class="pagination-item">3</a>
                <a class="pagination-item">Next â€º</a>
            </div>

        </div>
    </div>

    <!-- Footer will be loaded dynamically -->
    <div data-component="footer"></div>

    <!-- Scripts -->
    <script src="../assets/js/components.js"></script>
    <script src="../assets/js/blog.js"></script>
    <script src="../assets/js/main.js"></script>
    <script>
        // Fix paths for GitHub Pages after scripts are loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Check if we're on GitHub Pages (domain contains github.io)
            const isGitHubPages = window.location.hostname.includes('github.io');
            
            if (isGitHubPages) {
                // Get the repository name from the path
                const pathParts = window.location.pathname.split('/');
                const repoName = pathParts[1]; // The repository name is the first part of the path
                
                // Inject a global variable that components.js can use
                window.isGitHubPages = true;
                window.repoName = repoName;
                
                // Modify ComponentLoader basePath - avoid double "me" issue
                if (window.componentLoader) {
                    // Ensure we don't get a path like /me/me/assets/includes/
                    let correctPath = `/${repoName}/assets/includes/`;
                    // Remove any duplicate repo names
                    correctPath = correctPath.replace(new RegExp(`/${repoName}/${repoName}/`, 'g'), `/${repoName}/`);
                    
                    window.componentLoader.basePath = correctPath;
                    console.log('Updated basePath for GitHub Pages:', window.componentLoader.basePath);
                }
            }
        });
    </script>
</body>

</html>